################################################################################
# Original Webby Author information.                                
# Copyleft (C) 2009-2011, speechles                             
# imspeechless@gmail.com                                        
# October 5th, 2011                                             
################################################################################
##################################################################################
# Copyright Â©2011 lee8oi@gmail.com
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
# http://www.gnu.org/licenses/
#
# Dwebby v0.1
# by: <lee8oiAtgmail><lee8oiOnfreenode>
#
# This is an unofficial version of 'webby'.
#
# This script will display titles and other relevant information
# from links given in irc channels. Can also be used to test    
# and contstruct regular expression in channel.                 
#
# NOTE: Theres alot of languages and characters out there. To make best use of
# this script all eggdrop bots *version 1.6.20 and Under will need to be patched
# to utf-8 encoding as instructed on the following link: http://eggwiki.org/Utf-8
# Non-patched bots may still get some use of this script but some characters from
# certain languages may not show correctly.
#
# * eggdrop version 1.8+ is rumored to have encoding issues corrected. Eliminating
# the need to patch the bot.
#
# Usage:                                                        
#   .chanset #channel +webby                                    
#   !webby website.here.com [--html] [--header] [--xheader]     
#       [--post] [--override] [--nostrip] [--swap]              
#       [--regexp regexp-here--]                                
#
# Dwebby Changelog:
# v0.1
#   .1.Cleaned up code indenting. Took care of some escapes needed in broken
#   strings. Fixed a couple minor brace issues.
#   .2.Fixed utf-8 issues for utf-8 patched eggdrop bots. Tested in 1.6.20.
#   script is now primarily for patched bots.
#   .3.Added url grabber. Script can now be set to watch for urls in channels 
#   with the 'webby' flag set.
#   .4.Added tls require and https fix.(noticed that when I disabled the ONLY other
#   script that used tls; Webby lost https url support).
#   .5.Cleaned up some extra debugging code that I left behind. This fixes some
#   minor issues with backslashes appearing in the html on utf-8 encoded pages.
#   .6.Fixed bug that caused webby to run twice when using the !webby command.